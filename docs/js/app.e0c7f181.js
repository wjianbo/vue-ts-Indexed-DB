(function(){"use strict";var t={8966:function(t,e,s){var o=s(5471),i=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{attrs:{id:"app"}},[e("TodoList")],1)},a=[],n=s(1635),r=s(1886),c=function(){var t=this,e=t._self._c;return e("div",{staticClass:"todo-app",class:{"dark-mode":t.isDarkMode}},[e("header",{staticClass:"app-header"},[e("h1",{staticClass:"app-title"},[t._v("今日のタスク")]),e("button",{staticClass:"theme-toggle",on:{click:t.toggleTheme}},[e("span",{staticClass:"theme-icon"},[t._v(t._s(t.isDarkMode?"☀️":"🌙"))])])]),e("div",{staticClass:"task-input-container"},[e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.tag,expression:"tag"}],staticClass:"task-input",attrs:{type:"text",placeholder:"タグ"},domProps:{value:t.tag},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.focusTodoInput.apply(null,arguments)},input:function(e){e.target.composing||(t.tag=e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.todo,expression:"todo"}],ref:"todoInput",staticClass:"task-input task-input-main",attrs:{type:"text",placeholder:"やらなぁ~ あかんこと"},domProps:{value:t.todo},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addTodo.apply(null,arguments)},input:function(e){e.target.composing||(t.todo=e.target.value)}}}),e("button",{staticClass:"add-btn",on:{click:t.addTodo}},[e("span",{staticClass:"btn-icon"},[t._v("+")]),e("span",{staticClass:"btn-text"},[t._v("追加")])])])]),e("div",{staticClass:"search-container"},[e("div",{staticClass:"search-wrapper"},[e("span",{staticClass:"search-icon"},[t._v("🔍")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],staticClass:"search-input",attrs:{type:"text",placeholder:"タスクを検索..."},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}}),t.searchQuery?e("button",{staticClass:"clear-search",on:{click:function(e){t.searchQuery=""}}},[t._v("×")]):t._e()]),e("div",{staticClass:"filter-options"},[e("button",{staticClass:"filter-btn",class:{active:"all"===t.activeFilter},on:{click:function(e){return t.setFilter("all")}}},[t._v(" すべて ")]),e("button",{staticClass:"filter-btn",class:{active:"active"===t.activeFilter},on:{click:function(e){return t.setFilter("active")}}},[t._v(" 未完了 ")]),e("button",{staticClass:"filter-btn",class:{active:"completed"===t.activeFilter},on:{click:function(e){return t.setFilter("completed")}}},[t._v(" 完了済み ")])])]),e("div",{staticClass:"tasks-container"},[e("div",{staticClass:"tasks-header"},[e("div",{staticClass:"task-sort-menu"},[e("span",{staticClass:"sort-label"},[t._v("並び替え:")]),t._l(t.sortOptions,(function(s,o){return e("button",{key:o,staticClass:"sort-option",class:{active:t.sortKey===o},on:{click:function(e){return t.sortBy(o)}}},[t._v(" "+t._s(s)+" "),t.sortKey===o?e("span",{staticClass:"sort-arrow"},[t._v(" "+t._s(t.sortOrders[o]>0?"↑":"↓")+" ")]):t._e()])}))],2)]),e("transition-group",{staticClass:"task-list",attrs:{name:"task-list",tag:"ul"}},t._l(t.filteredTodos,(function(s){return e("li",{key:s.id,staticClass:"task-item",class:{"task-completed":s.complete,"task-selected":t.selectedId===s.id},on:{click:function(e){return t.edit(s.id)}}},[e("div",{staticClass:"task-checkbox-container",on:{click:function(t){t.stopPropagation()}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.complete,expression:"todo.complete"}],staticClass:"task-checkbox",attrs:{type:"checkbox",id:"task-"+s.id},domProps:{checked:Array.isArray(s.complete)?t._i(s.complete,null)>-1:s.complete},on:{change:[function(e){var o=s.complete,i=e.target,a=!!i.checked;if(Array.isArray(o)){var n=null,r=t._i(o,n);i.checked?r<0&&t.$set(s,"complete",o.concat([n])):r>-1&&t.$set(s,"complete",o.slice(0,r).concat(o.slice(r+1)))}else t.$set(s,"complete",a)},function(e){return t.completed(s)}]}}),e("label",{staticClass:"checkbox-label",attrs:{for:"task-"+s.id}})]),e("div",{staticClass:"task-content"},[s.tag?e("div",{staticClass:"task-tag"},[t._v(t._s(s.tag))]):t._e(),e("div",{staticClass:"task-text",class:{"completed-text":s.complete}},[t._v(" "+t._s(s.todo)+" ")])]),e("div",{staticClass:"task-actions"},[e("button",{staticClass:"task-action edit-btn",on:{click:function(e){return e.stopPropagation(),t.edit(s.id)}}},[e("span",{staticClass:"action-icon"},[t._v("✎")])]),e("button",{staticClass:"task-action delete-btn",on:{click:function(e){return e.stopPropagation(),t.deleteTodo(s)}}},[e("span",{staticClass:"action-icon"},[t._v("×")])])])])})),0),0===t.filteredTodos.length?e("div",{staticClass:"empty-state"},[e("div",{staticClass:"empty-icon"},[t._v("📝")]),e("p",{staticClass:"empty-message"},[t._v(" "+t._s(t.searchQuery?"検索結果はありません":"タスクがありません。新しいタスクを追加しましょう！")+" ")])]):t._e()],1),e("footer",{staticClass:"app-footer"},[e("span",{staticClass:"items-count"},[t._v(" "+t._s(t.activeTaskCount)+" 個のタスクが残っています ")]),t.completedTaskCount>0?e("button",{staticClass:"clear-completed-btn",on:{click:t.clearCompleted}},[t._v(" 完了したタスクをクリア ")]):t._e()]),t.isEditing?e("div",{staticClass:"modal-overlay",on:{click:t.cancelEdit}},[e("div",{staticClass:"edit-modal",on:{click:function(t){t.stopPropagation()}}},[e("h3",{staticClass:"modal-title"},[t._v("タスクを編集")]),e("div",{staticClass:"modal-inputs"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.editingTask.tag,expression:"editingTask.tag"}],staticClass:"modal-input",attrs:{type:"text",placeholder:"タグ"},domProps:{value:t.editingTask.tag},on:{input:function(e){e.target.composing||t.$set(t.editingTask,"tag",e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.editingTask.todo,expression:"editingTask.todo"}],ref:"editTaskInput",staticClass:"modal-input",attrs:{type:"text",placeholder:"やらなぁ~ あかんこと"},domProps:{value:t.editingTask.todo},on:{input:function(e){e.target.composing||t.$set(t.editingTask,"todo",e.target.value)}}})]),e("div",{staticClass:"modal-actions"},[e("button",{staticClass:"modal-btn cancel-btn",on:{click:t.cancelEdit}},[t._v("キャンセル")]),e("button",{staticClass:"modal-btn save-btn",on:{click:t.saveEdit}},[t._v("保存")])])])]):t._e()])},l=[],d=(s(4114),s(8111),s(2489),s(116),s(1701),{data(){return{todos:[],todo:"",tag:"",searchQuery:"",nextTodoId:1,selectedId:null,columns:["id","tag","todo","complete","delete"],sortKey:"id",sortOrders:{id:1,tag:1,todo:1,complete:1},sortOptions:{id:"ID",tag:"タグ",todo:"タスク名",complete:"完了状態"},activeFilter:"all",isDarkMode:!1,isEditing:!1,editingTask:{id:null,tag:"",todo:"",complete:!1}}},computed:{filteredTodos(){let t=this.todos;if(this.searchQuery){const e=this.searchQuery.toLowerCase();t=t.filter((t=>t.todo.toLowerCase().includes(e)||t.tag&&t.tag.toLowerCase().includes(e)))}"active"===this.activeFilter?t=t.filter((t=>!t.complete)):"completed"===this.activeFilter&&(t=t.filter((t=>t.complete)));const e=this.sortOrders[this.sortKey];return t.sort(((t,s)=>{const o=t[this.sortKey],i=s[this.sortKey];return"boolean"===typeof o?e>0?Number(o)-Number(i):Number(i)-Number(o):"string"===typeof o?e>0?o.localeCompare(i):i.localeCompare(o):e>0?o-i:i-o}))},activeTaskCount(){return this.todos.filter((t=>!t.complete)).length},completedTaskCount(){return this.todos.filter((t=>t.complete)).length},Todos(){return this.filteredTodos},styleForSelectedRow(){return{background:"rgba(33, 150, 243, 0.1)"}},styleForNonSelectedEvenRow(){return{background:"transparent"}},styleForNonSelectedOddRow(){return{background:"rgba(0, 0, 0, 0.03)"}}},mounted(){const t=localStorage.getItem("todos"),e=localStorage.getItem("isDarkMode");if(t)try{if(this.todos=JSON.parse(t),this.todos.length>0){const t=Math.max(...this.todos.map((t=>t.id)));this.nextTodoId=t+1}}catch(s){console.error("Error parsing saved todos:",s),this.todos=[]}if(null!==e)this.isDarkMode="true"===e;else{const t=window.matchMedia("(prefers-color-scheme: dark)").matches;this.isDarkMode=t}window.addEventListener("keydown",this.handleKeydown)},beforeDestroy(){window.removeEventListener("keydown",this.handleKeydown)},watch:{todos:{handler(t){localStorage.setItem("todos",JSON.stringify(t))},deep:!0},isDarkMode(t){localStorage.setItem("isDarkMode",t)}},methods:{addTodo(){this.todo.trim()&&(this.todos.push({id:this.nextTodoId++,tag:this.tag.trim(),todo:this.todo.trim(),complete:!1}),this.todo="",this.tag="",this.$nextTick((()=>{this.$refs.todoInput.focus()})))},focusTodoInput(){this.$refs.todoInput.focus()},completed(t){},deleteTodo(t){const e=this.todos.findIndex((e=>e.id===t.id));-1!==e&&this.todos.splice(e,1)},sortBy(t){this.sortKey===t?this.sortOrders[t]=-this.sortOrders[t]:this.sortKey=t},edit(t){const e=this.todos.find((e=>e.id===t));e&&(this.editingTask={...e},this.isEditing=!0,this.selectedId=t,this.$nextTick((()=>{this.$refs.editTaskInput&&this.$refs.editTaskInput.focus()})))},saveEdit(){if(!this.editingTask.todo.trim())return;const t=this.todos.findIndex((t=>t.id===this.editingTask.id));-1!==t&&(this.todos[t]={...this.editingTask}),this.cancelEdit()},cancelEdit(){this.isEditing=!1,this.editingTask={id:null,tag:"",todo:"",complete:!1},this.selectedId=null},setFilter(t){this.activeFilter=t},clearCompleted(){this.todos=this.todos.filter((t=>!t.complete))},toggleTheme(){this.isDarkMode=!this.isDarkMode},handleKeydown(t){"Escape"===t.key&&this.isEditing?this.cancelEdit():"Enter"===t.key&&t.ctrlKey&&this.isEditing&&this.saveEdit()}}}),u=d,p=s(845),h=(0,p.A)(u,c,l,!1,null,"6b86e970",null),v=h.exports;let m=class extends r.lD{};m=(0,n.Cg)([(0,r.uA)({components:{TodoList:v}})],m);var f=m,g=f,k=(0,p.A)(g,i,a,!1,null,null,null),y=k.exports,C=s(8292);s(3400);o["default"].use(C.Ay$),o["default"].config.productionTip=!1,new o["default"]({render:t=>t(y)}).$mount("#app")}},e={};function s(o){var i=e[o];if(void 0!==i)return i.exports;var a=e[o]={exports:{}};return t[o].call(a.exports,a,a.exports,s),a.exports}s.m=t,function(){var t=[];s.O=function(e,o,i,a){if(!o){var n=1/0;for(d=0;d<t.length;d++){o=t[d][0],i=t[d][1],a=t[d][2];for(var r=!0,c=0;c<o.length;c++)(!1&a||n>=a)&&Object.keys(s.O).every((function(t){return s.O[t](o[c])}))?o.splice(c--,1):(r=!1,a<n&&(n=a));if(r){t.splice(d--,1);var l=i();void 0!==l&&(e=l)}}return e}a=a||0;for(var d=t.length;d>0&&t[d-1][2]>a;d--)t[d]=t[d-1];t[d]=[o,i,a]}}(),function(){s.d=function(t,e){for(var o in e)s.o(e,o)&&!s.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};s.O.j=function(e){return 0===t[e]};var e=function(e,o){var i,a,n=o[0],r=o[1],c=o[2],l=0;if(n.some((function(e){return 0!==t[e]}))){for(i in r)s.o(r,i)&&(s.m[i]=r[i]);if(c)var d=c(s)}for(e&&e(o);l<n.length;l++)a=n[l],s.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return s.O(d)},o=self["webpackChunkvue_ts_indexed_db"]=self["webpackChunkvue_ts_indexed_db"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=s.O(void 0,[504],(function(){return s(8966)}));o=s.O(o)})();
//# sourceMappingURL=app.e0c7f181.js.map